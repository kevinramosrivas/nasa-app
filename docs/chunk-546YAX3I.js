import{b as ee,c as te,d as ie,e as ne,f as oe}from"./chunk-FRO4I347.js";import{$ as q,A as C,D as T,E as l,G as S,I as Y,J as H,K as r,L as a,M as d,N as E,O as B,P as y,Q as s,R as v,S as f,U as j,V as K,W as u,X as W,Y as g,aa as A,ba as w,ca as G,d as P,da as Q,e as O,g as L,h as z,ha as X,j as V,ja as Z,k as M,la as N,m as J,o as p,p as D,r as R,x as $,y as I,z as m}from"./chunk-I5QL2QKB.js";var b=(()=>{let e=class e{constructor(i){this.http=i,this.baseUrl="https://api.nasa.gov/neo/rest/v1",this.key="ugFBiYFEfU1xYsbLxPp3CmODWrcu2A3JKdV6b6Cr",this.cachedAsteroids=[],this.errors=!1,this.loadFromLocalStorage()}getAsteroidsByDate(i,n){let o=[];return this.http.get(`${this.baseUrl}/feed?start_date=${i}&end_date=${n}&api_key=${this.key}`).pipe(O(c=>c.near_earth_objects),O(c=>(Object.values(c).forEach(x=>o.push(...x)),this.errors=!1,o)),z(c=>{this.saveToLocalStorage(c)}),L(c=>(this.errors=!0,P([]))))}getAsteroidById(i){let n=this.cachedAsteroids.find(o=>o.id===i);return n?P(n):this.http.get(`${this.baseUrl}/neo/${i}?api_key=${this.key}`).pipe(L(o=>(this.errors=!0,P({}))))}saveToLocalStorage(i){localStorage.setItem("asteroids",JSON.stringify(i))}loadFromLocalStorage(){localStorage.getItem("asteroids")&&(this.cachedAsteroids=JSON.parse(localStorage.getItem("asteroids")))}};e.\u0275fac=function(n){return new(n||e)(J(Q))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var k=(()=>{let e=class e{constructor(){this.imagePath="",this.isLoad=!1}onLoad(){this.isLoad=!0}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-asteroid-image"]],inputs:{imagePath:"imagePath"},decls:1,vars:1,consts:[["width","200rem","height","200rem",1,"card-img-top","p-4",3,"load","src"]],template:function(n,o){n&1&&(r(0,"img",0),E("load",function(){return o.onLoad()}),a()),n&2&&y("src",o.imagePath,I)},styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();var re=(()=>{let e=class e{transform(i){return i==!0?"Es peligroso":"No es peligroso"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=R({name:"IsDangerous",type:e,pure:!0});let t=e;return t})();var F=(()=>{let e=class e{constructor(){this.isDangerous=!1}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-span-dangerous"]],inputs:{isDangerous:"isDangerous"},decls:4,vars:4,consts:[[1,"text-center"],[1,"badge","text-bg-info",3,"ngClass"]],template:function(n,o){n&1&&(r(0,"h5",0)(1,"span",1),s(2),u(3,"IsDangerous"),a()()),n&2&&(m(),y("ngClass",o.isDangerous?"text-bg-danger":"text-bg-info"),m(),f(" ",W(3,2,o.isDangerous)," "))},dependencies:[q,re],styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();var ve=t=>["/asteroids/info-meteorit",t],de=(()=>{let e=class e{ngOnInit(){this.asteroid.imagePath=this.asteroidImage}get asteroidImage(){let i="./assets/images/",n=[`${i}asteroid-1.svg`,`${i}asteroid-2.svg`,`${i}asteroid-3.svg`,`${i}asteroid-4.svg`,`${i}asteroid-5.svg`,`${i}asteroid-6.svg`];return n[Math.floor(Math.random()*n.length)]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-asteroid-card"]],inputs:{asteroid:"asteroid"},decls:25,vars:18,consts:[[1,"card","animate__animated","animate__backInUp"],[3,"imagePath"],[1,"card-body","text-center"],[1,"card-title"],[3,"isDangerous"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"font-weight-bold"],[1,"text-center","mt-3"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-primary",3,"routerLink"]],template:function(n,o){n&1&&(r(0,"div",0),d(1,"app-asteroid-image",1),r(2,"div",2)(3,"h5",3),s(4),a(),d(5,"app-span-dangerous",4),r(6,"ul",5)(7,"li",6)(8,"p",7),s(9,"Fecha de paso"),a(),s(10),u(11,"date"),a(),r(12,"li",6)(13,"p",7),s(14,"Diametro m\xE1ximo aproximado"),a(),s(15),u(16,"number"),a(),r(17,"li",6)(18,"p",7),s(19,"Velocidad m\xE1xima relativa"),a(),s(20),u(21,"number"),a()(),r(22,"div",8)(23,"a",9),s(24," Ver m\xE1s "),a()()()()),n&2&&(m(),l("imagePath",o.asteroid.imagePath),m(3),v(o.asteroid.name),m(),l("isDangerous",o.asteroid.is_potentially_hazardous_asteroid),m(5),f(" ",g(11,7,o.asteroid.close_approach_data[0].close_approach_date_full,"dd/MM/yyyy h:mm:ss a")," "),m(5),f(" ",g(16,10,o.asteroid.estimated_diameter.meters.estimated_diameter_max,"1.0-4")," m "),m(5),f(" ",g(21,13,o.asteroid.close_approach_data[0].relative_velocity.kilometers_per_hour,"1.0-1")," km/h "),m(3),l("routerLink",K(16,ve,o.asteroid.neo_reference_id)))},dependencies:[Z,k,F,w,A],styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();var pe=(()=>{let e=class e{constructor(i){this.AsteroidsService=i,this.eventEmitter=new $,this.isLoading=new $(!1),this.date=new ie(this.getDateNow)}ngOnInit(){this.date.valueChanges.subscribe(i=>{console.log(i)})}getAsteroids(){this.isLoading.emit(!0),this.eventEmitter.emit([]),this.AsteroidsService.getAsteroidsByDate(this.date.value,this.date.value).subscribe(i=>{this.eventEmitter.emit(i)})}get getDateNow(){let i=new Date,n=i.getFullYear(),o=i.getMonth()+1,c=i.getDate();return`${n}-${o}-${c}`}};e.\u0275fac=function(n){return new(n||e)(C(b))},e.\u0275cmp=p({type:e,selectors:[["app-search-bar"]],outputs:{eventEmitter:"eventEmitter",isLoading:"isLoading"},decls:9,vars:1,consts:[[1,"row","align-items-center","mt-3"],[1,"col-12","col-md-6","text-center"],[1,"mb-3"],["for","date",1,"form-label"],["type","date",1,"form-control",3,"formControl"],[1,"col-12","col-md-6","text-center","align-items-center"],[1,"btn","btn-primary",3,"click"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),s(4,"Selecciona la fecha"),a(),d(5,"input",4),a()(),r(6,"div",5)(7,"button",6),E("click",function(){return o.getAsteroids()}),s(8," Buscar \u2728 "),a()()()),n&2&&(m(5),l("formControl",o.date))},dependencies:[ee,te,ne],styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();var le=(()=>{let e=class e{constructor(){this.parameters={imagePath:"",message:""}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p({type:e,selectors:[["app-message-asteroid"]],inputs:{parameters:"parameters"},decls:9,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-12","text-center","p-4"],[1,"fw-light"],[1,"col-12","text-end"],["src","./assets/images/asteroid-5.svg","width","80rem","height","80rem","id","image-meteor"],["width","200rem","height","200rem","id","image",3,"src"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),s(4),a()(),r(5,"div",4),d(6,"img",5),a(),r(7,"div",2),d(8,"img",6),a()()()),n&2&&(m(4),v(o.parameters.message),m(4),y("src",o.parameters.imagePath,I))},styles:["[_nghost-%COMP%]{display:block}#image[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_rotate;animation-duration:5s;animation-iteration-count:infinite;animation-timing-function:linear}#image-meteor[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_move_meteor;animation-duration:5s;animation-iteration-count:infinite;animation-timing-function:linear}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}50%{transform:rotate(10deg)}to{transform:rotate(0)}}@keyframes _ngcontent-%COMP%_move_meteor{0%{transform:translate(-50px)}50%{transform:translate(0)}to{transform:translate(-50px)}}"]});let t=e;return t})();var Ie=(t,e)=>e.id,Ee=()=>({imagePath:"./assets/images/telescope.svg",message:"Selecciona una fecha y presiona buscar para ver los asteroides cercanos a la tierra"}),be=()=>({imagePath:"./assets/images/error.svg",message:"Hubo un problema, intenta de nuevo por favor"});function xe(t,e){t&1&&d(0,"app-message-asteroid",7),t&2&&l("parameters",j(1,Ee))}function Se(t,e){t&1&&d(0,"app-message-asteroid",7),t&2&&l("parameters",j(1,be))}function Pe(t,e){t&1&&(r(0,"div",8)(1,"span",9),s(2,"Loading..."),a()())}function Me(t,e){if(t&1&&T(0,xe,1,2,"app-message-asteroid",7)(1,Se,1,2,"app-message-asteroid",7)(2,Pe,3,0,"div",8),t&2){let _=B();S(0,_.isLoading?-1:0),m(),S(1,_.hasErrors?1:-1),m(),S(2,_.isLoading&&!_.hasErrors?2:-1)}}function De(t,e){if(t&1&&(r(0,"div",10),d(1,"app-asteroid-card",11),a()),t&2){let _=e.$implicit;m(),l("asteroid",_)}}function Ae(t,e){if(t&1&&Y(0,De,2,1,"div",10,Ie),t&2){let _=B();H(_.asteroids)}}var ce=(()=>{let e=class e{constructor(i){this.asteroidsService=i,this.asteroids=[],this.hasErrors=!1,this.isLoading=!1}ngOnInit(){}setAsteroids(i){i.length==0&&(this.hasErrors=this.asteroidsService.errors),this.asteroids=i}setIsLoading(i){this.isLoading=i}};e.\u0275fac=function(n){return new(n||e)(C(b))},e.\u0275cmp=p({type:e,selectors:[["app-asteroids-page"]],decls:11,vars:1,consts:[[1,"container","mt-3"],[1,"row","d-flex","justify-content-center"],[1,"col-12","animate__animated","animate__zoomIn"],[1,"text-center","text-bold"],[1,"text-center"],[3,"eventEmitter","isLoading"],[1,"row","mt-4","align-items-center","justify-content-center"],[3,"parameters"],["role","status",1,"spinner-border","text-primary","mt-4",2,"width","10rem","height","10rem"],[1,"visually-hidden"],[1,"col-md-4","col-12","col-sm-6","mb-2"],[3,"asteroid"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4," Busca asteroides cercanos por fecha "),a(),r(5,"h2",4),s(6," \xA1Explora el espacio hoy! \u2604\uFE0F "),a()()(),r(7,"app-search-bar",5),E("eventEmitter",function(x){return o.setAsteroids(x)})("isLoading",function(x){return o.setIsLoading(x)}),a(),r(8,"div",6),T(9,Me,3,3)(10,Ae,2,0),a()()),n&2&&(m(9),S(9,o.asteroids.length==0?9:10))},dependencies:[de,pe,le],styles:["[_nghost-%COMP%]{display:block}"]});let t=e;return t})();var ue=(()=>{let e=class e{constructor(i,n){this.route=i,this.asteroidService=n}ngOnInit(){this.route.params.subscribe(i=>{this.asteroidService.getAsteroidById(i.id).subscribe(n=>{this.asteroidInfo=n,this.asteroidInfo.imagePath=this.asteroidImage})})}get asteroidImage(){let i="./assets/images/",n=[`${i}asteroid-1.svg`,`${i}asteroid-2.svg`,`${i}asteroid-3.svg`,`${i}asteroid-4.svg`,`${i}asteroid-5.svg`,`${i}asteroid-6.svg`];return n[Math.floor(Math.random()*n.length)]}};e.\u0275fac=function(n){return new(n||e)(C(X),C(b))},e.\u0275cmp=p({type:e,selectors:[["app-info-meteorit"]],decls:58,vars:25,consts:[[1,"container","mt-3","mb-3"],[1,"row"],[1,"col-12"],[3,"imagePath"],[1,"col-12","mt-4"],[1,"col-md-6","col-12"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"fw-bold"],[3,"isDangerous"],[1,"col-12","text-center","mt-4"],[1,"btn","btn-primary",3,"href"],["src","../assets/nasa.svg","alt","","width","50rem","height","50rem"]],template:function(n,o){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),d(3,"app-asteroid-image",3),a(),r(4,"div",4)(5,"div",1)(6,"div",5)(7,"ul",6)(8,"li",7)(9,"p",8),s(10,"NEO ID"),a(),r(11,"p"),s(12),a()(),r(13,"li",7)(14,"p",8),s(15,"Nombre"),a(),r(16,"p"),s(17),a()(),r(18,"li",7)(19,"p",8),s(20,"Magnitud absoluta"),a(),r(21,"p"),s(22),u(23,"number"),a()(),r(24,"li",7)(25,"p",8),s(26,"Velocidad relativa"),a(),r(27,"p"),s(28),u(29,"number"),a()()()(),r(30,"div",5)(31,"ul",6)(32,"li",7)(33,"p",8),s(34,"Fecha de paso"),a(),r(35,"p"),s(36),u(37,"date"),a()(),r(38,"li",7)(39,"p",8),s(40,"Diametro m\xE1ximo aproximado"),a(),r(41,"p"),s(42),u(43,"number"),a()(),r(44,"li",7)(45,"p",8),s(46,"Diametro m\xEDnimo aproximado"),a(),r(47,"p"),s(48),u(49,"number"),a()(),r(50,"li",7)(51,"p",8),s(52,"\xBFEs peligroso?"),a(),d(53,"app-span-dangerous",9),a()()()()(),r(54,"div",10)(55,"a",11),s(56," Mas informaci\xF3n "),d(57,"img",12),a()()()()),n&2&&(m(3),l("imagePath",o.asteroidInfo==null?null:o.asteroidInfo.imagePath),m(9),v(o.asteroidInfo==null?null:o.asteroidInfo.neo_reference_id),m(5),v(o.asteroidInfo==null?null:o.asteroidInfo.name),m(5),v(g(23,10,o.asteroidInfo==null?null:o.asteroidInfo.absolute_magnitude_h,"1.0-4")),m(6),f("",g(29,13,o.asteroidInfo.close_approach_data[0].relative_velocity.kilometers_per_hour,"1.0-4")," km/h"),m(8),v(g(37,16,o.asteroidInfo.close_approach_data[0].close_approach_date_full,"dd/MM/yyyy h:mm:ss a")),m(6),f("",g(43,19,o.asteroidInfo==null||o.asteroidInfo.estimated_diameter==null||o.asteroidInfo.estimated_diameter.meters==null?null:o.asteroidInfo.estimated_diameter.meters.estimated_diameter_max,"1.0-4")," m"),m(6),f("",g(49,22,o.asteroidInfo==null||o.asteroidInfo.estimated_diameter==null||o.asteroidInfo.estimated_diameter.meters==null?null:o.asteroidInfo.estimated_diameter.meters.estimated_diameter_min,"1.0-4")," m"),m(5),l("isDangerous",o.asteroidInfo.is_potentially_hazardous_asteroid),m(2),y("href",o.asteroidInfo==null?null:o.asteroidInfo.nasa_jpl_url,I))},dependencies:[k,F,w,A],styles:["[_nghost-%COMP%]{display:block}app-asteroid-image[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_mover;animation-duration:4s;animation-iteration-count:infinite;animation-timing-function:ease-in-out}@keyframes _ngcontent-%COMP%_mover{0%{transform:translate(0)}50%{transform:translate(-30px)}to{transform:translate(0)}}"]});let t=e;return t})();var we=[{path:"",component:ce},{path:"info-meteorit/:id",component:ue},{path:"**",redirectTo:""}],fe=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=D({type:e}),e.\u0275inj=M({imports:[N.forChild(we),N]});let t=e;return t})();var dt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=D({type:e}),e.\u0275inj=M({imports:[G,fe,oe]});let t=e;return t})();export{dt as AsteroidsModule};
